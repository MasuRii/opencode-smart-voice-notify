# Bun Test Configuration
# See: https://bun.sh/docs/test/configuration

[test]
# Test discovery - Bun automatically finds *.test.js and *.spec.js files
# Test patterns: ["**/*.test.js", "**/*.spec.js"] (Bun's default)

# Preload file for test environment setup
preload = ["./tests/setup.js"]

# Test execution timeout in milliseconds (10 seconds)
timeout = 10000

# Coverage settings
coverage = true
coverageReporter = ["text", "lcov"]
coverageDir = "./coverage"

# Minimum 70% coverage threshold for new code
coverageThreshold = { lines = 0.70, functions = 0.70, statements = 0.70 }

# Exclude test files from coverage reports
coverageSkipTestFiles = true

# Ignore patterns from coverage
coveragePathIgnorePatterns = [
  # Test files and fixtures
  "**/tests/**",
  "**/*.test.js",
  "**/*.spec.js",
  "**/fixtures/**",
  
  # Configuration files
  "*.config.js",
  "bunfig.toml",
  
  # Assets (non-code)
  "**/assets/**",
  
  # Generated/vendor
  "**/node_modules/**",
  "**/coverage/**"
]
